<meta charset="utf-8" />
<style>
    table, td {
        border: 1px solid black;
        margin: auto;
    }
    td {
        width: 32px;
        height: 36px;
        background-position: center center;
        background-repeat: no-repeat;
    }
    td.feather {
        background-image: url('feather.png');
    }
    td.mushroom {
        background-image: url('mushroom.png');
    }
    body {
    }
    .options {
        text-align: center;
        margin: 16px 0;
    }
</style>
<table class="setup">
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
</table>
<div class="options">
    <button>Setup</button>
</div>
<table class="test">
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
    <tr>
        <td></td><td></td><td></td><td></td><td></td><td></td>
    </tr>
</table>
<script>
    for (var i = 0; i <= 5; i++) {
        for (var j = 0; j <= 5; j++) {
            var setupCell = getCell('setup', i, j);
            setupCell.className = 'mushroom';
        }
    }

    document.querySelector('.options button').onclick = function() {
        for (var i = 0; i <= 5; i++) {
            for (var j = 0; j <= 5; j++) {
                var setupCell = getCell('setup', i, j);
                var testCell = getCell('test', i, j);
                testCell.className = setupCell.className;
            }
        }
    }
    
    document.querySelectorAll('.setup td').forEach(function(cell) {
        cell.oncontextmenu = function(event) {  
            event.preventDefault();
        }
        cell.onmousedown = function(event) {
            cell.className = cell.className === 'feather' ? 'mushroom' : 'feather';
        }
    })
    
    document.querySelectorAll('.test td').forEach(function(cell) {
        cell.oncontextmenu = function(event) {  
            event.preventDefault();
        }
        cell.onmousedown = function(event) {
            var col = cell.cellIndex;
            var row = cell.parentElement.rowIndex;
            
            for (var i = Math.max(0, row - 1); i <= Math.min(5, row + 1); i++) {
                for (var j = Math.max(0, col - 1); j <= Math.min(5, col + 1); j++) {
                    var current = getCell('test', i, j);
                    current.className = current.className === 'feather' ? 'mushroom' : 'feather';
                }
            }
        }
    })
    
    function getCell(table, i, j) {
        return document.querySelector('.' + table + ' tr:nth-child(' + (i+1) + ') td:nth-child(' + (j+1) + ')');
    }
    
</script>
